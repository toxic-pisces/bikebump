<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Map Zoom to Specific Street</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        @font-face {
            font-family: 'Nexa';
            src: url('../Assets/Fonts/Nexa Bold.otf') format('opentype');
            font-weight: normal;
            font-style: normal;
        }
        body {
            margin: 0;
            overflow: hidden;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background-color: black;
        }
        #mapContainer {
            width: 100vw;
            height: 100vh;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 0;
        }
        #heldImage {
            position: absolute;
            width: 35%;
            height: auto;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            transition: transform 2s, width 2s;
            z-index: 1;
        }
        #textfeld {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            background-color: black;
            border: 3px solid black;
            padding: 10px;
            font-size: 24px;
            border-radius: 5px;
            text-align: center;
            font-family: 'Nexa';
            z-index: 2;
            display: none;
        }
    </style>
</head>
<body>
    <div id="mapContainer"></div>
    <!-- <img id="heldImage" src="../Assets/stift-schwarz.png" alt="Held"> -->
    <div id="textfeld">Markierung gesetzt!<br><span id="strasse"></span></div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        window.onload = function() {
            // Initialize the map
            var map = L.map('mapContainer').setView([51.505, -0.09], 13);

            // Add OpenStreetMap tiles
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);

            // List of streets with their coordinates
            var strassen = [
                { name: "An der Hochschule", lat: 48.359534, lng: 10.906149 },
                { name: "Universitätsstraße", lat: 48.332590, lng: 10.894926 },
                { name: "Rathausplatz", lat: 48.368876, lng: 10.897881 },
                { name: "Am Schäffelbach", lat: 48.364992, lng: 10.904086 },
                { name: "Flos Haus", lat: 48.366963, lng: 10.915858 },
                { name: "Oberhausen Bahnhof", lat: 48.381202, lng: 10.873092}
            ];

            // Select a random street
            var randomIndex = Math.floor(Math.random() * strassen.length);
            var selectedStreet = strassen[randomIndex];

            // Function to zoom to the selected street
            function zoomToStreet(street) {
                map.setView([street.lat, street.lng], 20);
                L.marker([street.lat, street.lng]).addTo(map);
            }

            // Wait for the map to fully load before zooming to the street
            map.whenReady(function() {
                zoomToStreet(selectedStreet);
            });

            // Show text field
            setTimeout(function() {
                document.getElementById("textfeld").style.display = "block";
                document.getElementById("strasse").innerText = selectedStreet.name;
            }, 2100);

            // Redirect after 7 seconds
            setTimeout(function() {
                window.location.href = "BUMPGO.html";
            }, 7000);
        }
    </script>
</body>
</html>